---
layout: post
title:  Autosar EcuM 5.2. Peripherals with Wakeup Capability
date:   2023-03-04 23:00:00 +0900
categories: Autosar
tags: R19-11 ecum driver
---

1. 周辺機器のウェイクアップソースはドライバによって操作され、カプセル化されること。
   1. AUTOSARのBSWとして移植を容易にするために、本ドキュメントに記載されたプロトコルと要件に従うこと。

1. ドライバはEcuM_SetWakeupEventを呼び出すこと。
EcuMにWakeupを知らせるため。タイミングは以下の何れか。

   1. Sleepフェーズ中
   1. ドライバの初期化フェーズ
   1. 通常動作中 *(通常動作中に呼び出す理由が思いつかなかった。通常動作中のSleepフェーズへの過渡期なら理解できる。)*

1. ドライバはWakeupソースを無効化する関数を明示的に提供すること。
ウェイクアップ通知処理を初期化するため。
(*イグニッションONのような、Sleepすることがない状態で初期化しておく。*)

1. Wakeupソースが疑わしいイベントを発生させる場合は、EcuMに検証コールアウト提供するか、EcuMの検証関数をコールすること。

検証コールアウト、検証関数ではWakeupソースが生成したイベントを検証する。

検証コールアウト、検証関数はドライバを使用するソフトまたはEcuM以外の適切なBSWモジュールが実装する。

疑わしいイベントとは、電気的なノイズが発生するWakeupソースで発生するイベント。ノイズか本当の信号かを検証する必要がある。

   1. ノイズなどの疑わしいイベントが発生しない場合は、検証は不要としてよい。
